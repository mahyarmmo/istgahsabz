<!doctype html>
<html>
<head>
<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>ØµÙØ®Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª</title>
	<style>
		body{
			font-family: Tahoma,sana-serife;
			direction: rtl;
			background-color:#F4F4F4;
			padding: 1rem;
		}
		.checkout-form{
			background-color: #FFFFFF;
			padding: 20px;
			max-width: 400px;
			margin: auto;
			border-radius: 10px;
			box-shadow: 0 0 10px #ccc;
		}
		.checkout-form h2{
			text-align: center;
			margin-bottom: 20px;
		}
		.form-field{
			margin-bottom: 15px;
		}
		.form-field lable{
			display: block;
			margin-bottom: 5px;
			font-weight: bold;
		}
		.form-field input[type="text"],
		.form-field input[type="tel"]{
			width: 100%;
			padding: 8px;
			border-radius: 5px;
			border: 1px solid #ccc;
			
		}
		.form-field .radio-group{
			display: flex;
			gap:10px
		}
		#submit-btn{
			width: 100;
			background-color:#4CAF50;
			color: white;
			padding: 10px;
			border: none;
			border-radius: 7px;
			cursor: pointer;
			font-size: 16px;
		}
		.success-message{
			margin-top: 20px;
			text-align: center;
			color: green;
			font-weight: bold;
			display: none;
		}
		@media(max-width:600px){
			body{
				padding: 0.5rem;
			}
			form{
				padding: 1rem;
			}
		}
	</style>
</head>

<body>
	<form class="checkout-form" id="paymentForm">
	<h2>Ù¾Ø±Ø¯Ø§Ø®Øª</h2>
		<div class="form-field">
		<label for="firstName">Ù†Ø§Ù…:</label>
			<input type="text" id="firstName" required>
		</div>
		<div class="form-field">
		<label for="lastName">Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</label>
			<input type="text" id="lastName" required>
		</div>
		<div class="form-field">
			<label for="phone">Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³</label>
			<input type="tel" id="phone" required>
		</div>
		<div class="form-field">
		<label>Ù†ÙˆØ¹ Ù¾Ø±Ø¯Ø§Ø®Øª:</label>
			<div class="radio-group">
			<label><input type="radio" name="paymentType" value="offline" required>Ø­Ø¶ÙˆØ±ÛŒ</label>
				<label><input type="radio" name="paymentType" value="online">Ø§Ù†Ù„Ø§ÛŒÙ†</label>
				
			</div>
		</div>
		<h3>Ø®Ù„Ø§ØµÙ‡ Ø³ÙØ§Ø±Ø´</h3>
<ul id="order-summary"></ul>
<p id="total-amount"></p>

		<button type="submit" id="submit-btn">Ù¾Ø±Ø¯Ø§Ø®Øª</button>
		<div class="success-message" id="successMessage">
		Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯(Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ø´Ø¯Ù‡)
		</div>
		
	</form>
	
	<script>
	const form = document.getElementById('paymentForm');
const successMessage = document.getElementById('successMessage');

form.addEventListener('submit', function(e) {
    e.preventDefault();

    const firstName = document.getElementById('firstName').value.trim();
    const lastName = document.getElementById('lastName').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const paymentType = form.querySelector('input[name="paymentType"]:checked');

    if (firstName && lastName && phone && paymentType) {
        if (paymentType.value === 'offline') {
            successMessage.textContent = 'Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯.';
        } else if (paymentType.value === 'online') {
            successMessage.textContent = 'Ù¾Ø±Ø¯Ø§Ø®Øª Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ² Ø¨ÙˆØ¯.';
        }
        // Ø°Ø®ÛŒØ±Ù‡ Ø³ÙØ§Ø±Ø´
let orders = JSON.parse(localStorage.getItem('orders') || '[]');
orders.push({
  name: `${firstName} ${lastName}`,
  phone: phone,
  paymentType: paymentType.value,
  items: JSON.parse(localStorage.getItem('cartData') || '{}'),
  date: new Date().toLocaleString()
});
localStorage.setItem('orders', JSON.stringify(orders));

// Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ÛŒØª
successMessage.style.display = 'block';

// Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙØ±Ù… Ùˆ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
form.reset();
localStorage.removeItem('cartData');
		// Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù†Ù…Ø§ÛŒØ´ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø¯Ø± checkout
document.getElementById('order-summary').innerHTML = '';
document.getElementById('total-amount').textContent = 'Ù…Ø¨Ù„Øº Ù‚Ø§Ø¨Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª: 0 ØªÙˆÙ…Ø§Ù†';

		

    } else {
        alert('Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯.');
    }
});
		document.addEventListener('DOMContentLoaded', () => {
    const cartData = JSON.parse(localStorage.getItem('cartData') || '{}');
    const cartList = document.getElementById('order-summary');
    const totalElement = document.getElementById('total-amount');
    let total = 0;

    for (const product in cartData) {
        const item = cartData[product];
        const itemTotal = item.price * item.quantity;
        total += itemTotal;

        const li = document.createElement('li');
        li.textContent = `${product}  Ú©ÛŒÙ„Ùˆ: ${item.quantity} - Ù‚ÛŒÙ…Øª: ${itemTotal.toLocaleString()} ØªÙˆÙ…Ø§Ù†`;
        cartList.appendChild(li);
    }

    totalElement.textContent = `Ù…Ø¨Ù„Øº Ù‚Ø§Ø¨Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª: ${total.toLocaleString()} ØªÙˆÙ…Ø§Ù†`;

    // ğŸ”„ ØªØºÛŒÛŒØ± Ù…ØªÙ† Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ Ù¾Ø±Ø¯Ø§Ø®Øª
    const paymentRadios = document.querySelectorAll('input[name="paymentType"]');
    const submitBtn = document.getElementById('submit-btn');

    paymentRadios.forEach(radio => {
        radio.addEventListener('change', () => {
            if (radio.value === 'offline' && radio.checked) {
                submitBtn.textContent = 'Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´';
            } else if (radio.value === 'online' && radio.checked) {
                submitBtn.textContent = 'Ù¾Ø±Ø¯Ø§Ø®Øª';
            }
        });
    });
});


	</script>
</body>
</html>